[gd_scene load_steps=10 format=3 uid="uid://dnlnc82km7nue"]

[ext_resource type="Script" uid="uid://ghdg8kw3r0wl" path="res://car.gd" id="1_7822p"]
[ext_resource type="ArrayMesh" uid="uid://cgymitcxs8u6v" path="res://assets/img/Car.obj" id="1_k61xc"]
[ext_resource type="Texture2D" uid="uid://cylxt80vrmuyl" path="res://assets/img/car_snow_red.png" id="2_06lh1"]
[ext_resource type="PackedScene" uid="uid://bjyt5qiwe4l2t" path="res://honk_range.tscn" id="4_06lh1"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_td361"]
albedo_texture = ExtResource("2_06lh1")

[sub_resource type="SphereMesh" id="SphereMesh_06lh1"]

[sub_resource type="Gradient" id="Gradient_td361"]
offsets = PackedFloat32Array(0.007380074, 1)
colors = PackedColorArray(0.29219356, 0.2921887, 0.2921899, 1, 1, 1, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_k61xc"]

[sub_resource type="BoxShape3D" id="BoxShape3D_k61xc"]
size = Vector3(0.6328125, 0.4296875, 1.7290039)

[node name="CarAnchor" type="Node3D"]
script = ExtResource("1_7822p")

[node name="Car" type="MeshInstance3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-0.29999998, 0, 4.5298737e-08, 0, 0.29999998, 0, -4.5298737e-08, 0, -0.29999998, 0, 0, 0)
mesh = ExtResource("1_k61xc")
surface_material_override/0 = SubResource("StandardMaterial3D_td361")

[node name="SnowTrailLeft" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.3180419, 0.02916807, 0.5743383)
amount = 20
mesh = SubResource("SphereMesh_06lh1")
direction = Vector3(0, 20, 45)
spread = 10.0
gravity = Vector3(0, -5.8, 0)
initial_velocity_min = 3.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.02
color_ramp = SubResource("Gradient_td361")

[node name="SnowTrailRight" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.31309453, 0.02916807, 0.5743383)
amount = 20
mesh = SubResource("SphereMesh_06lh1")
direction = Vector3(0, 20, 45)
spread = 10.0
gravity = Vector3(0, -5.8, 0)
initial_velocity_min = 3.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.02
color_ramp = SubResource("Gradient_td361")

[node name="WaveLeft" type="CPUParticles3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -0.33801606, 0.02916807, 0.3393607)
emitting = false
amount = 50
lifetime = 0.19
mesh = SubResource("SphereMesh_k61xc")
emission_shape = 3
emission_box_extents = Vector3(0.2, 0.2, 0.2)
direction = Vector3(90, 90, 0)
spread = 30.0
initial_velocity_min = 2.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.07
color_ramp = SubResource("Gradient_td361")

[node name="WaveRight" type="CPUParticles3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.31309453, 0.02916807, 0.3393607)
emitting = false
amount = 50
lifetime = 0.19
mesh = SubResource("SphereMesh_k61xc")
emission_shape = 3
emission_box_extents = Vector3(0.2, 0.2, 0.2)
direction = Vector3(90, 90, 0)
spread = 30.0
initial_velocity_min = 2.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.07
color_ramp = SubResource("Gradient_td361")

[node name="HeadlightLeft" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9990514, 0.043549627, 0, -0.043549627, 0.9990514, -0.23118055, 0.25909972, -0.9178937)
light_energy = 7.239
spot_range = 20.0
spot_attenuation = 2.33
spot_angle = 25.0

[node name="HeadlightRight" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.9990514, 0.043549627, 0, -0.043549627, 0.9990514, 0.20929575, 0.25909972, -0.9178937)
light_energy = 7.239
spot_range = 20.0
spot_attenuation = 2.33
spot_angle = 25.0

[node name="HitBox" type="Area3D" parent="."]

[node name="Shape" type="CollisionShape3D" parent="HitBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.28515625, 0.022705078)
shape = SubResource("BoxShape3D_k61xc")

[node name="SoundSource" type="AudioStreamPlayer3D" parent="."]
unique_name_in_owner = true
volume_db = -15.865
max_polyphony = 4

[node name="HonkRange" parent="." node_paths=PackedStringArray("car") instance=ExtResource("4_06lh1")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
visible = false
car = NodePath("..")

[connection signal="area_entered" from="HitBox" to="." method="_on_hit_box_area_entered"]
