[gd_scene load_steps=32 format=3 uid="uid://cgrejd4v5ywd3"]

[ext_resource type="Script" uid="uid://b2lwj7ap00k72" path="res://main.gd" id="1_h2yge"]
[ext_resource type="PackedScene" uid="uid://bccp5jxnm18cp" path="res://ground.tscn" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://dnlnc82km7nue" path="res://car.tscn" id="3_h2yge"]
[ext_resource type="Shader" uid="uid://c8n24bpcms5uf" path="res://sky.gdshader" id="4_sky"]
[ext_resource type="PackedScene" uid="uid://oyfamr18wj3p" path="res://aurora.tscn" id="5_aurora"]
[ext_resource type="PackedScene" uid="uid://dljkuhk64w3qg" path="res://stats_ui.tscn" id="6_efxa6"]
[ext_resource type="PackedScene" uid="uid://7wf22o12pssd" path="res://mountain.tscn" id="7_272bh"]
[ext_resource type="FontFile" uid="uid://cxxy7as46orgn" path="res://assets/fonts/Honk/Honk-Regular-VariableFont_MORF,SHLN.ttf" id="7_cegan"]
[ext_resource type="Shader" uid="uid://b7mfuslajspmy" path="res://moon.gdshader" id="8_kek77"]
[ext_resource type="PackedScene" uid="uid://d1cjdsnxpim6t" path="res://main_menu.tscn" id="8_w48qg"]
[ext_resource type="Texture2D" uid="uid://b3j5t5dtouj45" path="res://assets/note-texture.png" id="9_82xsv"]
[ext_resource type="AudioStream" uid="uid://u3mmbxcin3kb" path="res://assets/sound/tourist.wave.wav" id="9_cegan"]
[ext_resource type="PackedScene" uid="uid://duqsj6w7ve83k" path="res://tourist_grinder.tscn" id="9_kek77"]
[ext_resource type="PackedScene" uid="uid://b15ev0eotrj5" path="res://tourist_activator.tscn" id="10_4c57u"]
[ext_resource type="Texture2D" uid="uid://dhr3dkqio2smy" path="res://assets/img/key-A.png" id="13_w48qg"]
[ext_resource type="PackedScene" uid="uid://2yxs0eqay0a2" path="res://tourist.tscn" id="13_yaehf"]
[ext_resource type="Script" uid="uid://db20tkgjyebfu" path="res://tutorial_key.gd" id="14_2cqfq"]
[ext_resource type="Texture2D" uid="uid://bxj4hhwt2blnj" path="res://assets/img/key-SPACE.png" id="14_vivmo"]
[ext_resource type="Texture2D" uid="uid://bdherahvf8a4r" path="res://assets/img/key-D.png" id="14_w48qg"]
[ext_resource type="PackedScene" uid="uid://oawuimxc2024" path="res://horizon_activator.tscn" id="18_074og"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sky"]
shader = ExtResource("4_sky")
shader_parameter/horizon_color = Color(0, 0, 0, 1)
shader_parameter/sky_color = Color(0.063, 0, 0.173, 1)
shader_parameter/star_color = Color(1, 1, 1, 1)
shader_parameter/star_density = 1.0
shader_parameter/star_brightness = 2.0

[sub_resource type="Sky" id="Sky_synth"]
sky_material = SubResource("ShaderMaterial_sky")

[sub_resource type="Environment" id="Environment_synth"]
background_mode = 2
sky = SubResource("Sky_synth")
sky_custom_fov = 100.0
ambient_light_source = 2
ambient_light_color = Color(0, 0.1871664, 0.1465011, 1)
ambient_light_energy = 0.01

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_getpj"]
texture = ExtResource("9_82xsv")
texture_margin_left = 9.0
texture_margin_top = 9.0
texture_margin_right = 9.0
texture_margin_bottom = 9.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4c57u"]
render_priority = 0
shader = ExtResource("8_kek77")
shader_parameter/moon_color = Color(0.62731296, 1, 0.8886741, 1)
shader_parameter/crater_intensity = 0.4770000226575
shader_parameter/crater_scale = 12.702000555845
shader_parameter/moon_phase = 0.3050000144875
shader_parameter/brightness = 2.0

[sub_resource type="SphereMesh" id="SphereMesh_kek77"]
material = SubResource("ShaderMaterial_4c57u")

[sub_resource type="QuadMesh" id="QuadMesh_vivmo"]
size = Vector2(0.2, 0.2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2cqfq"]
albedo_texture = ExtResource("13_w48qg")
emission = Color(2.8397144e-06, 0.521054, 0.4086646, 1)

[sub_resource type="QuadMesh" id="QuadMesh_2cqfq"]
size = Vector2(0.8, 0.2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yaehf"]
albedo_texture = ExtResource("14_vivmo")
emission = Color(0, 0.52156866, 0.40784314, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vivmo"]
albedo_texture = ExtResource("14_w48qg")
emission = Color(0, 0.52156866, 0.40784314, 1)

[node name="Main" type="Node3D"]
script = ExtResource("1_h2yge")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_synth")

[node name="CameraPauseAnchor" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-4.1520305e-08, 0.31263337, -0.9498739, 1.36656375e-08, 0.9498739, 0.31263337, 1, 0, -4.371139e-08, -1.7908424, 0.21692151, -3.1008162)

[node name="Camera" type="Camera3D" parent="CameraPauseAnchor"]
unique_name_in_owner = true
transform = Transform3D(1, -8.881784e-16, 0, -8.881784e-16, 1, -2.9802322e-08, 0, 2.9802322e-08, 1, 0, 0, 0)
current = true

[node name="CameraPlayAnchor" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.94322276, 0.33216113, 0, -0.33216116, 0.94322264, 0, 0.92, 0)

[node name="Ground" parent="." instance=ExtResource("2_0xm2m")]
unique_name_in_owner = true
transform = Transform3D(-4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0, 1, 0, -100.91819, -8.114407)
rotation_speed = 1.69

[node name="Car" parent="." instance=ExtResource("3_h2yge")]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 0.998898, -0.046932105, 0, 0.046932105, 0.998898, 0, -1.1227423, -2.2088487)

[node name="Aurora" parent="." instance=ExtResource("5_aurora")]
transform = Transform3D(2000, 0, 0, 0, 76.95932, 171.67029, 0, -128.75272, 102.61243, 174.25262, 33.15435, -341.32916)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
unique_name_in_owner = true

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="Control" type="Control" parent="CanvasLayer/MarginContainer"]
layout_mode = 2
mouse_filter = 2

[node name="Judgement" type="RichTextLabel" parent="CanvasLayer/MarginContainer/Control"]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
bbcode_enabled = true
text = "[center]You're going to prison for that!"
fit_content = true
autowrap_mode = 0

[node name="Stats" parent="CanvasLayer/MarginContainer/Control" instance=ExtResource("6_efxa6")]
unique_name_in_owner = true
visible = false
layout_mode = 1
anchors_preset = 13
anchor_left = 0.5
anchor_right = 0.5

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/MarginContainer/Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Lives" type="HBoxContainer" parent="CanvasLayer/MarginContainer/Control/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="Mode" type="RichTextLabel" parent="CanvasLayer/MarginContainer/Control/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
fit_content = true
autowrap_mode = 0

[node name="GameTitle" type="Control" parent="CanvasLayer/MarginContainer/Control"]
unique_name_in_owner = true
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Title" type="RichTextLabel" parent="CanvasLayer/MarginContainer/Control/GameTitle"]
modulate = Color(0.03137255, 0.6392157, 0.13333334, 1)
layout_mode = 0
offset_left = 706.0
offset_top = 6.0
offset_right = 1832.0
offset_bottom = 163.0
scale = Vector2(0.5, 0.5)
theme_override_fonts/normal_font = ExtResource("7_cegan")
theme_override_font_sizes/normal_font_size = 128
text = "Troms√∏ Taco Run:"
fit_content = true
autowrap_mode = 0
horizontal_alignment = 1

[node name="SubTitle" type="RichTextLabel" parent="CanvasLayer/MarginContainer/Control/GameTitle"]
layout_mode = 0
offset_left = 933.0
offset_top = 68.0
offset_right = 1528.0
offset_bottom = 186.0
scale = Vector2(0.5, 0.5)
theme_override_fonts/normal_font = ExtResource("7_cegan")
theme_override_font_sizes/normal_font_size = 96
text = "Tourist Slalom"
fit_content = true
autowrap_mode = 0
horizontal_alignment = 1

[node name="StartUI" type="Control" parent="CanvasLayer/MarginContainer/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 42.0
offset_top = -171.0
offset_right = 42.0
offset_bottom = 6.0
grow_horizontal = 2
grow_vertical = 0

[node name="MainMenu" parent="CanvasLayer/MarginContainer/Control/StartUI" instance=ExtResource("8_w48qg")]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_right = 0.0
offset_left = 112.0
offset_top = -136.0
offset_right = 312.0
offset_bottom = -40.0
grow_horizontal = 1
grow_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/MarginContainer/Control/StartUI"]
texture_filter = 3
layout_mode = 0
offset_left = 721.0
offset_right = 1170.0
offset_bottom = 250.0
theme_override_styles/panel = SubResource("StyleBoxTexture_getpj")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/MarginContainer/Control/StartUI/PanelContainer"]
layout_mode = 2
theme_override_constants/margin_left = 18

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/MarginContainer/Control/StartUI/PanelContainer/MarginContainer"]
layout_mode = 2

[node name="Control" type="Control" parent="CanvasLayer/MarginContainer/Control/StartUI/PanelContainer/MarginContainer/VBoxContainer"]
custom_minimum_size = Vector2(0, 30)
layout_mode = 2

[node name="TodoList" type="RichTextLabel" parent="CanvasLayer/MarginContainer/Control/StartUI/PanelContainer/MarginContainer/VBoxContainer"]
modulate = Color(0.16565639, 0.16565642, 0.16565639, 1)
texture_filter = 3
layout_mode = 2
bbcode_enabled = true
text = "1. Avoid hurting tourists
2. Honking will wake the neighbours
3. Get tacos for dinner!"
fit_content = true
autowrap_mode = 0

[node name="Mountain" parent="." instance=ExtResource("7_272bh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.761629, 1.5240517, -78.004196)

[node name="Music" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("9_cegan")
autoplay = true

[node name="Light" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.9251237, -0.09317341, 0.36805564, -4.132022e-08, 0.9694197, 0.24540883, -0.37966594, 0.22703351, -0.89683306, 238.6495, 106.64763, -565.4971)
light_color = Color(1.5883148e-06, 0.54654634, 0.44373995, 1)
light_angular_distance = 14.15
shadow_enabled = true
shadow_opacity = 0.69

[node name="Moon" type="MeshInstance3D" parent="."]
transform = Transform3D(17.677675, 0, 17.677673, 0, 25, 0, -17.677675, 0, 17.677673, 238.6495, 106.64763, -565.4971)
mesh = SubResource("SphereMesh_kek77")

[node name="TouristGrinder" parent="." instance=ExtResource("9_kek77")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.211856, 7.9329987)

[node name="TouristActivator" parent="." instance=ExtResource("10_4c57u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -15.77558)

[node name="Tutorial" type="Node3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(-4.3662297e-08, 0.006998718, 0.9999755, -2.0712818e-09, 0.9999757, -0.006998714, -1.0000001, -6.0965903e-09, -4.3444153e-08, -0.005360365, -0.9745831, -4.482312)

[node name="Tourist" parent="Tutorial" instance=ExtResource("13_yaehf")]
transform = Transform3D(-4.3711687e-08, 0.0069987127, 0.99997556, -0.0069987155, 0.99995136, -0.0069985427, -0.99997556, -0.006998547, 4.8938295e-05, 0.7426729, 0, 3.236346e-08)

[node name="Tourist2" parent="Tutorial" instance=ExtResource("13_yaehf")]
transform = Transform3D(1.3112336e-07, 0.0069987117, 0.99997556, -0.006998717, 0.9999515, -0.006998543, -0.99997556, -0.006998547, 4.9113143e-05, 0.47785807, 0.009361565, 1.3375821)

[node name="KeyA" type="MeshInstance3D" parent="Tutorial"]
unique_name_in_owner = true
transform = Transform3D(-9.298954e-08, 0.99997556, -0.006998672, 0.006998673, 0.0069985157, 0.999952, 0.99997556, -4.8888556e-05, -0.0069985096, -1.0732713, -0.02649194, -0.5900313)
mesh = SubResource("QuadMesh_vivmo")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_2cqfq")
script = ExtResource("14_2cqfq")

[node name="KeySPACE" type="MeshInstance3D" parent="Tutorial"]
unique_name_in_owner = true
transform = Transform3D(-9.298954e-08, 0.99997556, -0.006998672, 0.006998673, 0.0069985176, 0.99995214, 0.99997556, -4.888857e-05, -0.0069985106, -1.0732713, -0.02251327, -0.02145244)
mesh = SubResource("QuadMesh_2cqfq")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_yaehf")
script = ExtResource("14_2cqfq")

[node name="KeyD" type="MeshInstance3D" parent="Tutorial"]
unique_name_in_owner = true
transform = Transform3D(-9.298954e-08, 0.99997556, -0.006998672, 0.006998673, 0.0069985176, 0.99995214, 0.99997556, -4.888857e-05, -0.0069985106, -1.0732713, -0.01855588, 0.54397035)
mesh = SubResource("QuadMesh_vivmo")
skeleton = NodePath("")
surface_material_override/0 = SubResource("StandardMaterial3D_vivmo")
script = ExtResource("14_2cqfq")

[node name="HorizonActivator" parent="." instance=ExtResource("18_074og")]
transform = Transform3D(1, 0, 0, 0, 0.8660254, 0.5, 0, -0.5, 0.8660254, 0, -3.8082862, -42.69336)
